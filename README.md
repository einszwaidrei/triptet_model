# Triplet Model for IS\_Ontology

Проект представляет собой интерактивную систему для извлечения, обработки и визуализации триплетов (субъект-предикат-объект-описание). Система позволяет формировать граф знаний, осуществлять поиск связей между объектами, а также управлять онтологией через пользовательский CLI-интерфейс.

---

## Функциональность

* Извлечение триплетов из текста с помощью модели YandexGPT
* Очистка, нормализация и семантическая агрегация триплетов
* Буферизация и ручное управление добавлением/обновлением/удалением триплетов
* Обновление графа знаний в Neo4j с удалением устаревших связей
* Поиск:

  * всех связей у объекта
  * похожих связей по введённому триплету
  * прямых и непрямых связей между двумя объектами

---

## Установка и запуск

### Зависимости

```bash
pip install -r requirements.txt
```

### Конфигурация

Создайте файл `access.json` с параметрами доступа к YandexGPT:

```json
{
  "OAUTH_TOKEN": "<ваш токен>",
  "FOLDER_ID": "<ваш folder_id>"
}
```

### Запуск CLI-интерфейса

```bash
python main.py
```

---

## Структура проекта

```
project/
├── main.py                    # CLI-интерфейс пользователя
├── dev_test.py                # Тестовая отладка пайплайна
├── triplet_buffer.jsonl       # Буфер добавленных вручную триплетов, генерируется самостоятельно
├── access.json                # Токены доступа к Yandex API
├── requirements.txt           # Зависимости проекта
├── pipeline/
│   ├── postprocessing.py      # Очистка и нормализация триплетов
│   ├── graph_preprocessing.py # Семантическая агрегация и фильтрация
│   ├── neo4j_loader.py        # Загрузка триплетов в Neo4j
│   └── yandex_gpt_integration.py # Вызов LLM YandexGPT
├── buffer.py                  # Работа с буфером триплетов
├── graph_update.py           # Обновление графа с учётом новых триплетов
├── manual_triplet.py         # Добавление триплета вручную
├── text_upload.py            # Обработка текста с извлечением триплетов
├── object_query.py           # Поиск всех связей у объекта
├── relation_similarity.py    # Поиск похожих триплетов
└── relation_path.py          # Поиск прямых/непрямых связей между объектами
```

---

## Пример использования

```bash
$ python main.py
=== Меню системы ===
1. Режим онтолога
2. Найти связи у объекта
3. Найти похожие связи у двух объектов
4. Найти непрямую связь между двумя объектами
0. Выход

> 1
--- Режим онтолога ---
a) Обновить граф
b) Загрузить триплет вручную
c) Загрузить текст и извлечь триплеты
x) Назад
```

---
